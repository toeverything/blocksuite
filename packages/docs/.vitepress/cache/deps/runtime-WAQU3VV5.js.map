{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/@codesandbox+sandpack-client@2.9.0/node_modules/@codesandbox/sandpack-client/dist/clients/runtime/index.mjs"],
  "sourcesContent": ["import { _ as __awaiter, a as __generator, h as __assign, i as __spreadArray, g as __extends, b as createPackageJSON, c as createError, S as SandpackLogLevel, d as addPackageJSONIfNeeded, n as nullthrows, e as extractErrorDetails } from '../../types-36e5ec0d.mjs';\nimport { dequal } from 'dequal';\nimport { S as SandpackClient } from '../../base-80a1f760.mjs';\nimport 'outvariant';\n\n/**\n * This file is a copy of the resolver from the `codesandbox-api` package.\n * We wanted to avoid to reference codesandbox-api because of the code that runs on load in the package.\n * The plan is to take some time and refactor codesandbox-api into what it was supposed to be in the first place,\n * an abstraction over the actions that can be dispatched between the bundler and the iframe.\n */\nvar Protocol = /** @class */ (function () {\n    function Protocol(type, handleMessage, protocol) {\n        var _this = this;\n        this.type = type;\n        this.handleMessage = handleMessage;\n        this.protocol = protocol;\n        this._disposeMessageListener = this.protocol.channelListen(function (msg) { return __awaiter(_this, void 0, void 0, function () {\n            var message, result, response, err_1, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(msg.type === this.getTypeId() && msg.method)) return [3 /*break*/, 4];\n                        message = msg;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.handleMessage(message)];\n                    case 2:\n                        result = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            result: result\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            error: {\n                                message: err_1.message\n                            }\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); });\n    }\n    Protocol.prototype.getTypeId = function () {\n        return \"protocol-\" + this.type;\n    };\n    Protocol.prototype.dispose = function () {\n        this._disposeMessageListener();\n    };\n    return Protocol;\n}());\n\nvar IFrameProtocol = /** @class */ (function () {\n    function IFrameProtocol(iframe, origin) {\n        // React to messages from any iframe\n        this.globalListeners = {};\n        this.globalListenersCount = 0;\n        // React to messages from the iframe owned by this instance\n        this.channelListeners = {};\n        this.channelListenersCount = 0;\n        // Random number to identify this instance of the client when messages are coming from multiple iframes\n        this.channelId = Math.floor(Math.random() * 1000000);\n        this.frameWindow = iframe.contentWindow;\n        this.origin = origin;\n        this.globalListeners = [];\n        this.channelListeners = [];\n        this.eventListener = this.eventListener.bind(this);\n        if (typeof window !== \"undefined\") {\n            window.addEventListener(\"message\", this.eventListener);\n        }\n    }\n    IFrameProtocol.prototype.cleanup = function () {\n        window.removeEventListener(\"message\", this.eventListener);\n        this.globalListeners = {};\n        this.channelListeners = {};\n        this.globalListenersCount = 0;\n        this.channelListenersCount = 0;\n    };\n    // Sends the channelId and triggers an iframeHandshake promise to resolve,\n    // so the iframe can start listening for messages (based on the id)\n    IFrameProtocol.prototype.register = function () {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage({\n            type: \"register-frame\",\n            origin: document.location.origin,\n            id: this.channelId\n        }, this.origin);\n    };\n    // Messages are dispatched from the client directly to the instance iframe\n    IFrameProtocol.prototype.dispatch = function (message) {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage(__assign({ $id: this.channelId, codesandbox: true }, message), this.origin);\n    };\n    // Add a listener that is called on any message coming from an iframe in the page\n    // This is needed for the `initialize` message which comes without a channelId\n    IFrameProtocol.prototype.globalListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.globalListenersCount;\n        this.globalListeners[listenerId] = listener;\n        this.globalListenersCount++;\n        return function () {\n            delete _this.globalListeners[listenerId];\n        };\n    };\n    // Add a listener that is called on any message coming from an iframe with the instance channelId\n    // All other messages (eg: from other iframes) are ignored\n    IFrameProtocol.prototype.channelListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.channelListenersCount;\n        this.channelListeners[listenerId] = listener;\n        this.channelListenersCount++;\n        return function () {\n            delete _this.channelListeners[listenerId];\n        };\n    };\n    // Handles message windows coming from iframes\n    IFrameProtocol.prototype.eventListener = function (evt) {\n        // skip events originating from different iframes\n        if (evt.source !== this.frameWindow) {\n            return;\n        }\n        var message = evt.data;\n        if (!message.codesandbox) {\n            return;\n        }\n        Object.values(this.globalListeners).forEach(function (listener) {\n            return listener(message);\n        });\n        if (message.$id !== this.channelId) {\n            return;\n        }\n        Object.values(this.channelListeners).forEach(function (listener) {\n            return listener(message);\n        });\n    };\n    return IFrameProtocol;\n}());\n\nvar MAX_CLIENT_DEPENDENCY_COUNT = 50;\nfunction getTemplate(pkg, \n/* eslint-disable @typescript-eslint/no-explicit-any */\nmodules) {\n    if (!pkg) {\n        return \"static\";\n    }\n    var _a = pkg.dependencies, dependencies = _a === void 0 ? {} : _a, _b = pkg.devDependencies, devDependencies = _b === void 0 ? {} : _b;\n    var totalDependencies = __spreadArray(__spreadArray([], Object.keys(dependencies), true), Object.keys(devDependencies), true);\n    var moduleNames = Object.keys(modules);\n    var adonis = [\"@adonisjs/framework\", \"@adonisjs/core\"];\n    if (totalDependencies.some(function (dep) { return adonis.indexOf(dep) > -1; })) {\n        return \"adonis\";\n    }\n    var nuxt = [\"nuxt\", \"nuxt-edge\", \"nuxt-ts\", \"nuxt-ts-edge\", \"nuxt3\"];\n    if (totalDependencies.some(function (dep) { return nuxt.indexOf(dep) > -1; })) {\n        return \"nuxt\";\n    }\n    if (totalDependencies.indexOf(\"next\") > -1) {\n        return \"next\";\n    }\n    var apollo = [\n        \"apollo-server\",\n        \"apollo-server-express\",\n        \"apollo-server-hapi\",\n        \"apollo-server-koa\",\n        \"apollo-server-lambda\",\n        \"apollo-server-micro\",\n    ];\n    if (totalDependencies.some(function (dep) { return apollo.indexOf(dep) > -1; })) {\n        return \"apollo\";\n    }\n    if (totalDependencies.indexOf(\"mdx-deck\") > -1) {\n        return \"mdx-deck\";\n    }\n    if (totalDependencies.indexOf(\"gridsome\") > -1) {\n        return \"gridsome\";\n    }\n    if (totalDependencies.indexOf(\"vuepress\") > -1) {\n        return \"vuepress\";\n    }\n    if (totalDependencies.indexOf(\"ember-cli\") > -1) {\n        return \"ember\";\n    }\n    if (totalDependencies.indexOf(\"sapper\") > -1) {\n        return \"sapper\";\n    }\n    if (totalDependencies.indexOf(\"gatsby\") > -1) {\n        return \"gatsby\";\n    }\n    if (totalDependencies.indexOf(\"quasar\") > -1) {\n        return \"quasar\";\n    }\n    if (totalDependencies.indexOf(\"@docusaurus/core\") > -1) {\n        return \"docusaurus\";\n    }\n    if (totalDependencies.indexOf(\"remix\") > -1) {\n        return \"remix\";\n    }\n    if (totalDependencies.indexOf(\"astro\") > -1) {\n        return \"node\";\n    }\n    // CLIENT\n    if (moduleNames.some(function (m) { return m.endsWith(\".re\"); })) {\n        return \"reason\";\n    }\n    var parcel = [\"parcel-bundler\", \"parcel\"];\n    if (totalDependencies.some(function (dep) { return parcel.indexOf(dep) > -1; })) {\n        return \"parcel\";\n    }\n    var dojo = [\"@dojo/core\", \"@dojo/framework\"];\n    if (totalDependencies.some(function (dep) { return dojo.indexOf(dep) > -1; })) {\n        return \"@dojo/cli-create-app\";\n    }\n    if (totalDependencies.indexOf(\"@nestjs/core\") > -1 ||\n        totalDependencies.indexOf(\"@nestjs/common\") > -1) {\n        return \"nest\";\n    }\n    if (totalDependencies.indexOf(\"react-styleguidist\") > -1) {\n        return \"styleguidist\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts\") > -1) {\n        return \"create-react-app\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts-ts\") > -1) {\n        return \"create-react-app-typescript\";\n    }\n    if (totalDependencies.indexOf(\"@angular/core\") > -1) {\n        return \"angular-cli\";\n    }\n    if (totalDependencies.indexOf(\"preact-cli\") > -1) {\n        return \"preact-cli\";\n    }\n    if (totalDependencies.indexOf(\"@sveltech/routify\") > -1 ||\n        totalDependencies.indexOf(\"@roxi/routify\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"vite\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"@frontity/core\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"svelte\") > -1) {\n        return \"svelte\";\n    }\n    if (totalDependencies.indexOf(\"vue\") > -1) {\n        return \"vue-cli\";\n    }\n    if (totalDependencies.indexOf(\"cx\") > -1) {\n        return \"cxjs\";\n    }\n    var nodeDeps = [\n        \"express\",\n        \"koa\",\n        \"nodemon\",\n        \"ts-node\",\n        \"@tensorflow/tfjs-node\",\n        \"webpack-dev-server\",\n        \"snowpack\",\n    ];\n    if (totalDependencies.some(function (dep) { return nodeDeps.indexOf(dep) > -1; })) {\n        return \"node\";\n    }\n    if (Object.keys(dependencies).length >= MAX_CLIENT_DEPENDENCY_COUNT) {\n        // The dependencies are too much for client sandboxes to handle\n        return \"node\";\n    }\n    return undefined;\n}\n\nvar _a;\nvar BUNDLER_URL = \"https://\" + ((_a = \"2.9.0\") === null || _a === void 0 ? void 0 : _a.replace(/\\./g, \"-\")) + \"-sandpack.codesandbox.io/\";\nvar SandpackRuntime = /** @class */ (function (_super) {\n    __extends(SandpackRuntime, _super);\n    function SandpackRuntime(selector, sandboxSetup, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, selector, sandboxSetup, options) || this;\n        _this.getTranspilerContext = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"transpiler-context\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-transpiler-context\" });\n            });\n        };\n        _this.bundlerURL = options.bundlerURL || BUNDLER_URL;\n        if (options.teamId) {\n            _this.bundlerURL =\n                _this.bundlerURL.replace(\"https://\", \"https://\" + options.teamId + \"-\") +\n                    (\"?cache=\" + Date.now());\n        }\n        _this.bundlerState = undefined;\n        _this.errors = [];\n        _this.status = \"initializing\";\n        if (typeof selector === \"string\") {\n            _this.selector = selector;\n            var element = document.querySelector(selector);\n            nullthrows(element, \"The element '\" + selector + \"' was not found\");\n            _this.element = element;\n            _this.iframe = document.createElement(\"iframe\");\n            _this.initializeElement();\n        }\n        else {\n            _this.element = selector;\n            _this.iframe = selector;\n        }\n        if (!_this.iframe.getAttribute(\"sandbox\")) {\n            _this.iframe.setAttribute(\"sandbox\", \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\");\n            _this.iframe.setAttribute(\"allow\", \"accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-write;\");\n        }\n        _this.setLocationURLIntoIFrame();\n        _this.iframeProtocol = new IFrameProtocol(_this.iframe, _this.bundlerURL);\n        _this.unsubscribeGlobalListener = _this.iframeProtocol.globalListen(function (mes) {\n            if (mes.type !== \"initialized\" || !_this.iframe.contentWindow) {\n                return;\n            }\n            _this.iframeProtocol.register();\n            if (_this.options.fileResolver) {\n                _this.fileResolverProtocol = new Protocol(\"fs\", function (data) { return __awaiter(_this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        if (data.method === \"isFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.isFile(data.params[0])];\n                        }\n                        else if (data.method === \"readFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.readFile(data.params[0])];\n                        }\n                        else {\n                            throw new Error(\"Method not supported\");\n                        }\n                    });\n                }); }, _this.iframeProtocol);\n            }\n            _this.updateSandbox(_this.sandboxSetup, true);\n        });\n        _this.unsubscribeChannelListener = _this.iframeProtocol.channelListen(function (mes) {\n            switch (mes.type) {\n                case \"start\": {\n                    _this.errors = [];\n                    break;\n                }\n                case \"status\": {\n                    _this.status = mes.status;\n                    break;\n                }\n                case \"action\": {\n                    if (mes.action === \"show-error\") {\n                        _this.errors = __spreadArray(__spreadArray([], _this.errors, true), [extractErrorDetails(mes)], false);\n                    }\n                    break;\n                }\n                case \"done\": {\n                    _this.status = \"done\";\n                    break;\n                }\n                case \"state\": {\n                    _this.bundlerState = mes.state;\n                    break;\n                }\n            }\n        });\n        return _this;\n    }\n    SandpackRuntime.prototype.setLocationURLIntoIFrame = function () {\n        var _a;\n        var urlSource = this.options.startRoute\n            ? new URL(this.options.startRoute, this.bundlerURL).toString()\n            : this.bundlerURL;\n        (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.location.replace(urlSource);\n        this.iframe.src = urlSource;\n    };\n    SandpackRuntime.prototype.destroy = function () {\n        this.unsubscribeChannelListener();\n        this.unsubscribeGlobalListener();\n        this.iframeProtocol.cleanup();\n    };\n    SandpackRuntime.prototype.updateOptions = function (options) {\n        if (!dequal(this.options, options)) {\n            this.options = options;\n            this.updateSandbox();\n        }\n    };\n    SandpackRuntime.prototype.updateSandbox = function (sandboxSetup, isInitializationCompile) {\n        var _a, _b, _c, _d;\n        if (sandboxSetup === void 0) { sandboxSetup = this.sandboxSetup; }\n        this.sandboxSetup = __assign(__assign({}, this.sandboxSetup), sandboxSetup);\n        var files = this.getFiles();\n        var modules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                code: files[next].code,\n                path: next\n            }, _a)));\n        }, {});\n        var packageJSON = JSON.parse(createPackageJSON(this.sandboxSetup.dependencies, this.sandboxSetup.devDependencies, this.sandboxSetup.entry));\n        try {\n            packageJSON = JSON.parse(files[\"/package.json\"].code);\n        }\n        catch (e) {\n            console.error(createError(\"could not parse package.json file: \" + e.message));\n        }\n        // TODO move this to a common format\n        var normalizedModules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                content: files[next].code,\n                path: next\n            }, _a)));\n        }, {});\n        this.dispatch({\n            type: \"compile\",\n            codesandbox: true,\n            version: 3,\n            isInitializationCompile: isInitializationCompile,\n            modules: modules,\n            reactDevTools: this.options.reactDevTools,\n            externalResources: this.options.externalResources || [],\n            hasFileResolver: Boolean(this.options.fileResolver),\n            disableDependencyPreprocessing: this.sandboxSetup.disableDependencyPreprocessing,\n            template: this.sandboxSetup.template ||\n                getTemplate(packageJSON, normalizedModules),\n            showOpenInCodeSandbox: (_a = this.options.showOpenInCodeSandbox) !== null && _a !== void 0 ? _a : true,\n            showErrorScreen: (_b = this.options.showErrorScreen) !== null && _b !== void 0 ? _b : true,\n            showLoadingScreen: (_c = this.options.showLoadingScreen) !== null && _c !== void 0 ? _c : false,\n            skipEval: this.options.skipEval || false,\n            clearConsoleDisabled: !this.options.clearConsoleOnFirstCompile,\n            logLevel: (_d = this.options.logLevel) !== null && _d !== void 0 ? _d : SandpackLogLevel.Info,\n            customNpmRegistries: this.options.customNpmRegistries,\n            teamId: this.options.teamId,\n            sandboxId: this.options.sandboxId\n        });\n    };\n    SandpackRuntime.prototype.dispatch = function (message) {\n        /**\n         * Intercept \"refresh\" dispatch: this will make sure\n         * that the iframe is still in the location it's supposed to be.\n         * External links inside the iframe will change the location and\n         * prevent the user from navigating back.\n         */\n        if (message.type === \"refresh\") {\n            this.setLocationURLIntoIFrame();\n        }\n        this.iframeProtocol.dispatch(message);\n    };\n    SandpackRuntime.prototype.listen = function (listener) {\n        return this.iframeProtocol.channelListen(listener);\n    };\n    /**\n     * Get the URL of the contents of the current sandbox\n     */\n    SandpackRuntime.prototype.getCodeSandboxURL = function () {\n        var files = this.getFiles();\n        var paramFiles = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next.replace(\"/\", \"\")] = {\n                content: files[next].code,\n                isBinary: false\n            }, _a)));\n        }, {});\n        return fetch(\"https://codesandbox.io/api/v1/sandboxes/define?json=1\", {\n            method: \"POST\",\n            body: JSON.stringify({ files: paramFiles }),\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n            }\n        })\n            .then(function (x) { return x.json(); })\n            .then(function (res) { return ({\n            sandboxId: res.sandbox_id,\n            editorUrl: \"https://codesandbox.io/s/\" + res.sandbox_id,\n            embedUrl: \"https://codesandbox.io/embed/\" + res.sandbox_id\n        }); });\n    };\n    SandpackRuntime.prototype.getFiles = function () {\n        var sandboxSetup = this.sandboxSetup;\n        if (sandboxSetup.files[\"/package.json\"] === undefined) {\n            return addPackageJSONIfNeeded(sandboxSetup.files, sandboxSetup.dependencies, sandboxSetup.devDependencies, sandboxSetup.entry);\n        }\n        return this.sandboxSetup.files;\n    };\n    SandpackRuntime.prototype.initializeElement = function () {\n        this.iframe.style.border = \"0\";\n        this.iframe.style.width = this.options.width || \"100%\";\n        this.iframe.style.height = this.options.height || \"100%\";\n        this.iframe.style.overflow = \"hidden\";\n        nullthrows(this.element.parentNode, \"The given iframe does not have a parent.\");\n        this.element.parentNode.replaceChild(this.iframe, this.element);\n    };\n    return SandpackRuntime;\n}(SandpackClient));\n\nexport { SandpackRuntime };\n"],
  "mappings": "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",
  "names": ["Protocol", "_a", "IFrameProtocol", "SandpackRuntime"]
}
